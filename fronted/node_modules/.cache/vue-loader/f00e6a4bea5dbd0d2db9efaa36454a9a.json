{"remainingRequest":"/Users/lvjing/web-project/test-framework-platform/fronted/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lvjing/web-project/test-framework-platform/fronted/src/views/envs/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lvjing/web-project/test-framework-platform/fronted/src/views/envs/index.vue","mtime":1663055390619},{"path":"/Users/lvjing/web-project/test-framework-platform/fronted/node_modules/cache-loader/dist/cjs.js","mtime":1660878614315},{"path":"/Users/lvjing/web-project/test-framework-platform/fronted/node_modules/babel-loader/lib/index.js","mtime":1660878615043},{"path":"/Users/lvjing/web-project/test-framework-platform/fronted/node_modules/cache-loader/dist/cjs.js","mtime":1660878614315},{"path":"/Users/lvjing/web-project/test-framework-platform/fronted/node_modules/vue-loader/lib/index.js","mtime":1660878615769}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldEFsbEVudnMsIGRlbGV0ZUVudiB9IGZyb20gJ0AvYXBpL2V2bnMnCmltcG9ydCBlbnZzRGlhbG9nIGZyb20gJy4vY29tcG9uZW50cy9lbnZzRGlhbG9nLnZ1ZScKCmV4cG9ydCBkZWZhdWx0ICh7CiAgY29tcG9uZW50czogewogICAgZW52c0RpYWxvZwogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBlbnZEYXRhOiBbXSwKICAgICAgc2hvd0RhaWxvZzogZmFsc2UsCiAgICAgIGVudmlkOiAwLAogICAgICByZXE6IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIHNpemU6IDEwCiAgICAgIH0sCiAgICAgIC8vIOWIhumhtemhteaVsAogICAgICB0b3RhbDogMTAKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXRFbnZMaXN0KCkKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWIneWni+WMluiOt+WPlueOr+Wig+WIl+ihqAogICAgYXN5bmMgaW5pdEVudkxpc3QoKSB7CiAgICAgIGNvbnNvbGUubG9nKCfojrflj5bnjq/looPliJfooagnKQogICAgICBjb25zdCByZXNwID0gYXdhaXQgZ2V0QWxsRW52cyh0aGlzLnJlcSkKICAgICAgaWYgKHJlc3Auc3VjY2VzcyA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMuZW52RGF0YSA9IHJlc3AuaXRlbXMKICAgICAgICB0aGlzLnRvdGFsID0gcmVzcC50b3RhbAogICAgICAgIC8vIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5p+l6K+i5oiQ5YqfIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5p+l6K+i5aSx6LSlIScpCiAgICAgIH0KICAgIH0sCiAgICAvLyDmmL7npLrliJvlu7rnqpflj6MKICAgIHNob3dDcmVhdGUoKSB7CiAgICAgIHRoaXMuc2hvd0RhaWxvZyA9IHRydWUKICAgIH0sCiAgICAvLyDmmL7npLrnvJbovpHnqpflj6MKICAgIHNob3dFZGl0KG9iaikgewogICAgICB0aGlzLmVudmlkID0gb2JqLmlkCiAgICAgIHRoaXMuc2hvd0RhaWxvZyA9IHRydWUKICAgIH0sCiAgICAvLyDlrZDnu4Tku7bnmoTlm57osIMKICAgIGNhbmNlbEVudigpIHsKICAgICAgdGhpcy5zaG93RGFpbG9nID0gZmFsc2UKICAgICAgdGhpcy5lbnZpZCA9IDAKICAgICAgdGhpcy5pbml0RW52TGlzdCgpCiAgICB9LAogICAgLy8g5Yig6Zmk546v5aKD5L+h5oGvCiAgICBhc3luYyBkZWxldGVFbnYob2JqKSB7CiAgICAgIHRoaXMuZW52aWQgPSBvYmouaWQKICAgICAgY29uc3QgcmVzcCA9IGF3YWl0IGRlbGV0ZUVudih0aGlzLmVudmlkKQogICAgICBpZiAocmVzcC5zdWNjZXNzID09PSB0cnVlKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfliKDpmaTmiJDlip8nKQogICAgICAgIHRoaXMuaW5pdEVudkxpc3QoKQogICAgICAgIHRoaXMuZW52aWQgPSAwCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5Yig6Zmk5aSx6LSlIScpCiAgICAgIH0KICAgIH0KICB9Cn0pCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/envs","sourcesContent":["<template>\n  <div class=\"envs\">\n    <div class=\"filter-line\" style=\"text-align: left; margin-top: 20px;\">\n      <el-button cy-data=\"create-project\" type=\"primary\" @click=\"showCreate()\">创建</el-button>\n    </div>\n    <div class=\"envlist\">\n      <el-table :data=\"envData\" border style=\"width: 100%\">\n        <el-table-column fixed prop=\"id\" label=\"ID\" width=\"80\" />\n        <el-table-column prop=\"name\" label=\"名称\" />\n        <el-table-column prop=\"project_name\" label=\"所属项目\" />\n        <el-table-column prop=\"base_url\" label=\"base_url\" />\n        <el-table-column prop=\"browser\" label=\"browser\" />\n        <el-table-column prop=\"env\" label=\"env\" />\n        <el-table-column prop=\"update_time\" label=\"更新时间\" />\n        <el-table-column fixed=\"right\" label=\"操作\" width=\"100\">\n          <template slot-scope=\"scope\">\n            <el-button\n              type=\"text\"\n              size=\"small\"\n              @click=\"showEdit(scope.row)\"\n            >编辑</el-button>\n            <el-button\n              type=\"text\"\n              size=\"small\"\n              @click=\"deleteEnv(scope.row)\"\n            >删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <!--分页-->\n    <div style=\"width: 100%; text-align: right; margin-top: 10px;\">\n      <el-pagination\n        background\n        layout=\"prev, pager, next\"\n        :page-size=\"req.size\"\n        :total=\"total\"\n        @current-change=\"handleCurrentChange\"\n      />\n    </div>\n    <envs-dialog v-if=\"showDailog\" :eid=\"envid\" @cancel=\"cancelEnv\" />\n  </div>\n</template>\n\n<script>\nimport { getAllEnvs, deleteEnv } from '@/api/evns'\nimport envsDialog from './components/envsDialog.vue'\n\nexport default ({\n  components: {\n    envsDialog\n  },\n  data() {\n    return {\n      loading: false,\n      envData: [],\n      showDailog: false,\n      envid: 0,\n      req: {\n        page: 1,\n        size: 10\n      },\n      // 分页页数\n      total: 10\n    }\n  },\n  mounted() {\n    this.initEnvList()\n  },\n  methods: {\n    // 初始化获取环境列表\n    async initEnvList() {\n      console.log('获取环境列表')\n      const resp = await getAllEnvs(this.req)\n      if (resp.success === true) {\n        this.envData = resp.items\n        this.total = resp.total\n        // this.$message.success(\"查询成功\");\n      } else {\n        this.$message.error('查询失败!')\n      }\n    },\n    // 显示创建窗口\n    showCreate() {\n      this.showDailog = true\n    },\n    // 显示编辑窗口\n    showEdit(obj) {\n      this.envid = obj.id\n      this.showDailog = true\n    },\n    // 子组件的回调\n    cancelEnv() {\n      this.showDailog = false\n      this.envid = 0\n      this.initEnvList()\n    },\n    // 删除环境信息\n    async deleteEnv(obj) {\n      this.envid = obj.id\n      const resp = await deleteEnv(this.envid)\n      if (resp.success === true) {\n        this.$message.success('删除成功')\n        this.initEnvList()\n        this.envid = 0\n      } else {\n        this.$message.error('删除失败!')\n      }\n    }\n  }\n})\n</script>\n\n<style>\n    .el-popover.home-popover {\n      width: 70px;\n      min-width: auto;\n    }\n</style>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n/* 定义当前组件使用的CSS */\n.filter-line {\n    height: 50px;\n    text-align: left;\n    margin-left: 15px;\n}\n.foot-page {\n    margin-top: 20px;\n    float: right;\n    margin-bottom: 20px;\n}\n.project-card {\n    margin-left: 15px;\n    margin-right: 15px;\n    margin-top: 15px;\n    margin-bottom: 15px\n}\n</style>\n"]}]}