{"remainingRequest":"/Users/lvjing/web-project/test-framework-platform/fronted/node_modules/babel-loader/lib/index.js!/Users/lvjing/web-project/test-framework-platform/fronted/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lvjing/web-project/test-framework-platform/fronted/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lvjing/web-project/test-framework-platform/fronted/src/views/envs/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lvjing/web-project/test-framework-platform/fronted/src/views/envs/index.vue","mtime":1663055390619},{"path":"/Users/lvjing/web-project/test-framework-platform/fronted/babel.config.js","mtime":1660724590681},{"path":"/Users/lvjing/web-project/test-framework-platform/fronted/node_modules/cache-loader/dist/cjs.js","mtime":1660878614315},{"path":"/Users/lvjing/web-project/test-framework-platform/fronted/node_modules/babel-loader/lib/index.js","mtime":1660878615043},{"path":"/Users/lvjing/web-project/test-framework-platform/fronted/node_modules/cache-loader/dist/cjs.js","mtime":1660878614315},{"path":"/Users/lvjing/web-project/test-framework-platform/fronted/node_modules/vue-loader/lib/index.js","mtime":1660878615769}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL2x2amluZy93ZWItcHJvamVjdC90ZXN0LWZyYW1ld29yay1wbGF0Zm9ybS9mcm9udGVkL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2x2amluZy93ZWItcHJvamVjdC90ZXN0LWZyYW1ld29yay1wbGF0Zm9ybS9mcm9udGVkL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0QWxsRW52cywgZGVsZXRlRW52IGFzIF9kZWxldGVFbnYgfSBmcm9tICdAL2FwaS9ldm5zJzsKaW1wb3J0IGVudnNEaWFsb2cgZnJvbSAnLi9jb21wb25lbnRzL2VudnNEaWFsb2cudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIGVudnNEaWFsb2c6IGVudnNEaWFsb2cKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZW52RGF0YTogW10sCiAgICAgIHNob3dEYWlsb2c6IGZhbHNlLAogICAgICBlbnZpZDogMCwKICAgICAgcmVxOiB7CiAgICAgICAgcGFnZTogMSwKICAgICAgICBzaXplOiAxMAogICAgICB9LAogICAgICAvLyDliIbpobXpobXmlbAKICAgICAgdG90YWw6IDEwCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdEVudkxpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWIneWni+WMluiOt+WPlueOr+Wig+WIl+ihqAogICAgaW5pdEVudkxpc3Q6IGZ1bmN0aW9uIGluaXRFbnZMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzcDsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn6I635Y+W546v5aKD5YiX6KGoJyk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRBbGxFbnZzKF90aGlzLnJlcSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXNwLnN1Y2Nlc3MgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZW52RGF0YSA9IHJlc3AuaXRlbXM7CiAgICAgICAgICAgICAgICAgIF90aGlzLnRvdGFsID0gcmVzcC50b3RhbDsgLy8gdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmn6Xor6LmiJDlip8iKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKCfmn6Xor6LlpLHotKUhJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDmmL7npLrliJvlu7rnqpflj6MKICAgIHNob3dDcmVhdGU6IGZ1bmN0aW9uIHNob3dDcmVhdGUoKSB7CiAgICAgIHRoaXMuc2hvd0RhaWxvZyA9IHRydWU7CiAgICB9LAogICAgLy8g5pi+56S657yW6L6R56qX5Y+jCiAgICBzaG93RWRpdDogZnVuY3Rpb24gc2hvd0VkaXQob2JqKSB7CiAgICAgIHRoaXMuZW52aWQgPSBvYmouaWQ7CiAgICAgIHRoaXMuc2hvd0RhaWxvZyA9IHRydWU7CiAgICB9LAogICAgLy8g5a2Q57uE5Lu255qE5Zue6LCDCiAgICBjYW5jZWxFbnY6IGZ1bmN0aW9uIGNhbmNlbEVudigpIHsKICAgICAgdGhpcy5zaG93RGFpbG9nID0gZmFsc2U7CiAgICAgIHRoaXMuZW52aWQgPSAwOwogICAgICB0aGlzLmluaXRFbnZMaXN0KCk7CiAgICB9LAogICAgLy8g5Yig6Zmk546v5aKD5L+h5oGvCiAgICBkZWxldGVFbnY6IGZ1bmN0aW9uIGRlbGV0ZUVudihvYmopIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgcmVzcDsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyLmVudmlkID0gb2JqLmlkOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF9kZWxldGVFbnYoX3RoaXMyLmVudmlkKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXNwLnN1Y2Nlc3MgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WIoOmZpOaIkOWKnycpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLmluaXRFbnZMaXN0KCk7CgogICAgICAgICAgICAgICAgICBfdGhpczIuZW52aWQgPSAwOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKCfliKDpmaTlpLHotKUhJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AAEA;EACAA;IACAC;EADA,CADA;EAIAC,IAJA,kBAIA;IACA;MACAC,cADA;MAEAC,WAFA;MAGAC,iBAHA;MAIAC,QAJA;MAKAC;QACAC,OADA;QAEAC;MAFA,CALA;MASA;MACAC;IAVA;EAYA,CAjBA;EAkBAC,OAlBA,qBAkBA;IACA;EACA,CApBA;EAqBAC;IACA;IACAC,WAFA,yBAEA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAC;gBADA;gBAAA,OAEAC,qBAFA;;cAAA;gBAEAC,IAFA;;gBAGA;kBACA;kBACA,yBAFA,CAGA;gBACA,CAJA,MAIA;kBACA;gBACA;;cATA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAUA,CAZA;IAaA;IACAC,UAdA,wBAcA;MACA;IACA,CAhBA;IAiBA;IACAC,QAlBA,oBAkBAC,GAlBA,EAkBA;MACA;MACA;IACA,CArBA;IAsBA;IACAC,SAvBA,uBAuBA;MACA;MACA;MACA;IACA,CA3BA;IA4BA;IACAC,SA7BA,qBA6BAF,GA7BA,EA6BA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBADA;gBAAA,OAEAE,wBAFA;;cAAA;gBAEAL,IAFA;;gBAGA;kBACA;;kBACA;;kBACA;gBACA,CAJA,MAIA;kBACA;gBACA;;cATA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAUA;EAvCA;AArBA","names":["components","envsDialog","data","loading","envData","showDailog","envid","req","page","size","total","mounted","methods","initEnvList","console","getAllEnvs","resp","showCreate","showEdit","obj","cancelEnv","deleteEnv"],"sourceRoot":"src/views/envs","sources":["index.vue"],"sourcesContent":["<template>\n  <div class=\"envs\">\n    <div class=\"filter-line\" style=\"text-align: left; margin-top: 20px;\">\n      <el-button cy-data=\"create-project\" type=\"primary\" @click=\"showCreate()\">创建</el-button>\n    </div>\n    <div class=\"envlist\">\n      <el-table :data=\"envData\" border style=\"width: 100%\">\n        <el-table-column fixed prop=\"id\" label=\"ID\" width=\"80\" />\n        <el-table-column prop=\"name\" label=\"名称\" />\n        <el-table-column prop=\"project_name\" label=\"所属项目\" />\n        <el-table-column prop=\"base_url\" label=\"base_url\" />\n        <el-table-column prop=\"browser\" label=\"browser\" />\n        <el-table-column prop=\"env\" label=\"env\" />\n        <el-table-column prop=\"update_time\" label=\"更新时间\" />\n        <el-table-column fixed=\"right\" label=\"操作\" width=\"100\">\n          <template slot-scope=\"scope\">\n            <el-button\n              type=\"text\"\n              size=\"small\"\n              @click=\"showEdit(scope.row)\"\n            >编辑</el-button>\n            <el-button\n              type=\"text\"\n              size=\"small\"\n              @click=\"deleteEnv(scope.row)\"\n            >删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <!--分页-->\n    <div style=\"width: 100%; text-align: right; margin-top: 10px;\">\n      <el-pagination\n        background\n        layout=\"prev, pager, next\"\n        :page-size=\"req.size\"\n        :total=\"total\"\n        @current-change=\"handleCurrentChange\"\n      />\n    </div>\n    <envs-dialog v-if=\"showDailog\" :eid=\"envid\" @cancel=\"cancelEnv\" />\n  </div>\n</template>\n\n<script>\nimport { getAllEnvs, deleteEnv } from '@/api/evns'\nimport envsDialog from './components/envsDialog.vue'\n\nexport default ({\n  components: {\n    envsDialog\n  },\n  data() {\n    return {\n      loading: false,\n      envData: [],\n      showDailog: false,\n      envid: 0,\n      req: {\n        page: 1,\n        size: 10\n      },\n      // 分页页数\n      total: 10\n    }\n  },\n  mounted() {\n    this.initEnvList()\n  },\n  methods: {\n    // 初始化获取环境列表\n    async initEnvList() {\n      console.log('获取环境列表')\n      const resp = await getAllEnvs(this.req)\n      if (resp.success === true) {\n        this.envData = resp.items\n        this.total = resp.total\n        // this.$message.success(\"查询成功\");\n      } else {\n        this.$message.error('查询失败!')\n      }\n    },\n    // 显示创建窗口\n    showCreate() {\n      this.showDailog = true\n    },\n    // 显示编辑窗口\n    showEdit(obj) {\n      this.envid = obj.id\n      this.showDailog = true\n    },\n    // 子组件的回调\n    cancelEnv() {\n      this.showDailog = false\n      this.envid = 0\n      this.initEnvList()\n    },\n    // 删除环境信息\n    async deleteEnv(obj) {\n      this.envid = obj.id\n      const resp = await deleteEnv(this.envid)\n      if (resp.success === true) {\n        this.$message.success('删除成功')\n        this.initEnvList()\n        this.envid = 0\n      } else {\n        this.$message.error('删除失败!')\n      }\n    }\n  }\n})\n</script>\n\n<style>\n    .el-popover.home-popover {\n      width: 70px;\n      min-width: auto;\n    }\n</style>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n/* 定义当前组件使用的CSS */\n.filter-line {\n    height: 50px;\n    text-align: left;\n    margin-left: 15px;\n}\n.foot-page {\n    margin-top: 20px;\n    float: right;\n    margin-bottom: 20px;\n}\n.project-card {\n    margin-left: 15px;\n    margin-right: 15px;\n    margin-top: 15px;\n    margin-bottom: 15px\n}\n</style>\n"]}]}